(function(g){var window=this;'use strict';var m3=function(S,W){if(!Number.isFinite(S))return String(S);S=String(S);let m=S.indexOf(".");m===-1&&(m=S.length);const a=S[0]==="-"?"-":"";a&&(S=S.substring(1));W="0".repeat(Math.max(0,W-m));return a+W+S},JR=function(S){typeof S==="number"?(this.date=wIZ(S,0,1),ad(this,1)):g.bc(S)?(this.date=wIZ(S.getFullYear(),S.getMonth(),S.getDate()),ad(this,S.getDate())):(this.date=new Date(g.S$()),S=this.date.getDate(),this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),
ad(this,S))},wIZ=function(S,W,m){W=new Date(S,W,m);
S>=0&&S<100&&W.setFullYear(W.getFullYear()-1900);return W},ad=function(S,W){S.getDate()!=W&&S.date.setUTCHours(S.date.getUTCHours()+(S.getDate()<W?1:-1))},BK=function(S){if(S.toggleButtonRenderer){var W=S.toggleButtonRenderer;
if(W.isToggled){var m=W.toggledText?g.qL(W.toggledText):"";S.update({text:m,icon:SM8(W.toggledIcon)})}else m=W.defaultText?g.qL(W.defaultText):"",S.update({text:m,icon:SM8(W.defaultIcon)});S.show()}else S.hide()},Wgp=function(S,W){!S.toggleButtonRenderer&&W&&W.toggleButtonRenderer?S.toggleButtonRenderer=W.toggleButtonRenderer:W&&W.toggleButtonRenderer||(S.toggleButtonRenderer=null);
BK(S)},SM8=function(S){if(!S)return null;
switch(S.iconType){case "NOTIFICATIONS":return{G:"svg",J:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},D:[{G:"path",J:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]};case "NOTIFICATIONS_NONE":return{G:"svg",J:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},D:[{G:"path",J:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]};
case "NOTIFICATIONS_ACTIVE":return g.SOX();default:return null}},Bpn=function(S,W){const m=g.H(W,mUQ),a=g.H(W,acZ);
if(W&&(m||a)){if(m){var J=m;var B="notification/add_upcoming_event_reminder"}else a&&(J=a,B="notification/remove_upcoming_event_reminder");B&&J&&J.params&&Jbw(S,B,J.params)}},Jbw=function(S,W,m){S.C||(S.C=new g.gR(S.X.K().i6));
const a={context:g.QL(S.C.config_||g.jl())};g.l2()&&(a.context.clientScreenNonce=g.l2());a.params=m;g.au(S.C,W,a,{timeout:5E3,onError:()=>{ErN(S)},
onTimeout:()=>{ErN(S)}})},ErN=function(S){S.toggleButtonRenderer&&(S.toggleButtonRenderer.isToggled=!S.toggleButtonRenderer.isToggled,BK(S))},E5=function(S,W,m){if(W){var a=W.subtitleText!=null?g.qL(W.subtitleText):"";
m=m?m:W.mainText!=null?g.qL(W.mainText):"";S.update({mainText:m,subtitleText:a,label:W.mainText?.accessibility?.accessibilityData?.label??m});g.I(S.element,"ytp-offline-slate-single-text-line",!a);g.I(S.B,"ytp-offline-slate-bar-hidden",!m&&!a)}},z4Q=function(S){try{const W=JSON.parse(S);
return W!=null?W:void 0}catch(W){}},Tpg=async function(S){const W=S.player.K(),m=S.getVideoData();
zi(S)&&(ybQ(S)?YMw(S,W,m):(G6p(S),await Kgw(S,W,m)))},G6p=function(S){var W=S.getVideoData();
if(W.o0)if(W.T("use_rta_for_player"))S.attestationResponse=qMv(S);else{const B=new g.kiP(W);if(g.RE.isInitialized()||S.sequenceNumber>=3){W=Promise;var m=W.resolve;let E=null;if(B.videoData.CU){var a=g.PRj(B);if(a){E={};const z={};a=a.split("&");for(J of a)a=J.split("="),a.length===2&&(z[a[0]]=a[1]);var J=z;J.r1a&&(E.webResponse=J.r1a);J.r1c&&(E.error=pr$[Number(J.r1c)]);E.challenge=B.videoData.CU}}S.attestationResponse=m.call(W,E||void 0)}}},nrZ=function(S){var W=S.getVideoData();
const m=S.player.K();if(W.isLivePlayback)if(g.Xj(m.A)){S.j=!0;S.V=!0;if(!g.Cs(m)||g.oX(m))S.offlineSlate=new Fgg(S.player),g.R(S,S.offlineSlate),g.TJ(S.player,S.offlineSlate.element,4);(W=W.getPlayerResponse())&&W.playabilityStatus&&(S.C=W.playabilityStatus);S.C?.status!=="UNPLAYABLE"&&(S.C?(W=VsZ(void 0,S.C.liveStreamability&&S.C.liveStreamability.liveStreamabilityRenderer))?yr(S,W):yr(S,7500):yr(S,YU(S,!0)))}else S.player.oY("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.j$(W.Kk,"heartbeat")&&S.player.P4("heartbeat",S.getPlayerType())},u$N=function(S,W,m){var a=m.liveStreamability&&m.liveStreamability.liveStreamabilityRenderer,J=!(!a||!(a.switchStreamsImmediately||a.transitionTiming&&a.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
W=VsZ(W,a);var B=S.getVideoData();const E=S.player.getPlayerStateObject(S.getPlayerType()),z=E.isPlaying()&&!g.HT(B)&&!S.player.isAtLiveHead(S.getPlayerType());if(B.K().zV()){var y=S.player.QT()?.xb()||{};y.status=m.status||"";y.dvr=`${+z}`;y["switch"]=`${+J}`;y.ended=`${+!(!a||!a.displayEndscreen)}`;S.player.N2("heartbeat",y)}y=a&&a.broadcastId;const Y=S.C&&S.C.liveStreamability&&S.C.liveStreamability.liveStreamabilityRenderer&&S.C.liveStreamability.liveStreamabilityRenderer.broadcastId,G=y!==Y&&
y!=null;G&&S.player.N2("lbidh",{broadcastId:y},!0);const K=S.player.T("always_cache_redirect_endpoint");if(z&&!J&&!K)return W;const T=a&&a.streamTransitionEndpoint&&g.H(a.streamTransitionEndpoint,g.om),q=a&&a.transitionTiming;if(q==="STREAM_TRANSITION_TIMING_AT_STREAM_END")S.getVideoData().transitionEndpointAtEndOfStream=T;else if(K&&!T&&S.getVideoData().transitionEndpointAtEndOfStream)S.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!K&&T&&Gi(S,T,m))return W;if(z&&!J&&K||K&&T&&(q===
"STREAM_TRANSITION_TIMING_IMMEDIATELY"||q==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&Gi(S,T,m))return W;if(m.status.toUpperCase()==="OK"){if(!g.ZB(B)||G)return a={video_id:B.videoId},B.s1&&(a.is_live_destination="1"),a.disable_watch_next=!0,a.raw_watch_next_response=B.getWatchNextResponse(),a.autonav_state=B.autonavState,a.oauth_token=B.oauthToken,a.jI=B.jI,B.W&&(a.vss_credentials_token=B.W,a.vss_credentials_token_type=B.WA),B.vn&&(a.vvt=B.vn),J=void 0,g.ZB(B)?G&&(J=new sfp("broadcastIdChanged",`${Y},${y}`),
S.Ir("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",m)):(y&&(J=new sfp("formatsReceived",`${y}`)),S.Ir("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",m)),G&&S.player.N2("lbidr",{broadcastId:y}),S.player.loadVideoByPlayerVars(a,void 0,void 0,void 0,J),W;S.player.P4("heartbeat",S.getPlayerType())}a&&a.displayEndscreen&&(S.offlineSlate?(S=S.offlineSlate,S.W=!0,S.jg&&S.api.AA()):E.isBuffering()&&(B=S.player.QT()?.xb()||
{},S.player.N2("hbse",B,!0),S.player.AA(!0,"h"),g.AJ(S.player,"onLiveMediaEnded",m)));return W},YU=function(S,W=!1){S=S.getVideoData();
return S.T("html5_use_server_init_heartbeat_delay")?isNaN(S.Sf)?15E3:S.Sf:W?1E3:2E3},grZ=function(S){var W=S.getVideoData();
!W.T("use_rta_for_player")&&W.o0&&(W=W.botguardData)&&g.iB(W,S.player.K())},KS=function(S){S.Z=0;
S.N.stop();S.A=!1;S.sequenceNumber=0},qMv=async function(S){if(await g.RKP())return S=S.getVideoData(),g.LMP({cpn:S.clientPlaybackNonce,
encryptedVideoId:S.videoId||""},1500);if(S.sequenceNumber>=3)return{error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}},yr=function(S,W){if(!S.N.isActive()&&S.V){var m=S.getVideoData();
if(Ti(S)||m.isLivePlayback)W===void 0&&(W=S.A?S.j?7500:S.heartbeatParams?.interval?S.heartbeatParams.interval*1E3:S.getVideoData().Sf||6E4:1E3),S.N.start(W)}},ybQ=function(S){var W=S.getVideoData();
if(!g.jn(S.getVideoData())||W.iW)return!1;if(W.A){S=W.A.flavor==="playready"&&W.T("html5_innertube_heartbeats_for_playready");const m=W.A.flavor==="widevine"&&W.T("html5_innertube_heartbeats_for_widevine");W=g.VX(W.A)&&W.T("html5_innertube_heartbeats_for_fairplay");return!(S||m||W)}return!0},Ti=function(S){if(ybQ(S))return!!S.heartbeatParams;
const W=S.getVideoData();return!g.jn(S.getVideoData())||W.nj||W.dg?!!W.heartbeatToken:!1},QfZ=function(S,W,m){W.EC&&(m=g.u9(m,{internalipoverride:W.EC}));
const a={cpn:W.clientPlaybackNonce};W.contextParams&&(a.context_params=W.contextParams);W.mU&&(a.kpt=W.mU);m=g.u9(m,a);g.Zf(m,{format:"RAW",method:"GET",timeout:3E4,onSuccess:J=>{if(!S.N.isActive()&&zi(S)){S.W.reset();S.sequenceNumber++;J=J.responseText;var B=z4Q(J);if(B){g.AJ(S.player,"onHeartbeat",B);var E=B.status==="ok"?B.stop_heartbeat?2:0:B.status==="stop"?1:B.status==="live_stream_offline"?0:-1}else E=(E=J.match(OhN))?E[1]==="0"?0:1:-1;jfQ(S,void 0,B,J,E)}},
onError:J=>{zi(S)&&q4(S,!0,`net-${J.status}`)},
onTimeout:()=>{zi(S)&&q4(S,!0,"timeout")},
withCredentials:!0})},zi=function(S){const W=S.getVideoData();
return S.player.getPresentingPlayerType()===3||!S.player.K().experiments.EV().C.uY(g.L7G)&&S.player.getPlayerStateObject(S.getPlayerType()).C(4)?!1:Ti(S)||W.isLivePlayback?!0:(KS(S),!1)},YMw=function(S,W,m){if(S.heartbeatParams?.url){var a=g.u9(S.heartbeatParams.url,{request_id:g.P36()});
m.vn&&(a=g.u9(a,{vvt:m.vn}),m.mdxEnvironment&&(a=g.u9(a,{mdx_environment:m.mdxEnvironment})));g.Gb(W,m.oauthToken).then(J=>{J&&(a=g.u9(a,{access_token:J}));QfZ(S,m,a)})}},Kgw=async function(S,W,m){const a={videoId:m.videoId,
sequenceNumber:S.sequenceNumber,heartbeatServerData:S.vn??m.heartbeatServerData};S.S=S.attestationResponse;m.o0&&(a.attestationResponse=await S.S);var J=g.tJ(m),B=J.client??{};B.utcOffsetMinutes=S.utcOffsetMinutes;a.context=J;a.cpn=m.clientPlaybackNonce;if(J=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)B.timeZone=J;B={heartbeatChecks:[]};if(J=m.getPlayerResponse())m.heartbeatToken&&(a.heartbeatToken=m.heartbeatToken),(J=J.playabilityStatus)&&(J=J.liveStreamability)&&
J.liveStreamabilityRenderer&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");m.heartbeatToken&&B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");if(g.oX(W)){B.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED");var E=XrZ(S);J={};E!==null&&(J.clientPlayerPositionUtcMillis=E);E=S.player.Pv()?.gy()?.tf()||0;E>0&&(J.freePreviewWatchedDuration={seconds:`${E}`});B.unpluggedParams=J}a.heartbeatRequestParams=B;m.isLivePlayback?(B=XrZ(S),B!==null&&(a.playbackState||(a.playbackState={}),
a.playbackState.playbackPosition={utcTimeMillis:B})):W.T("enable_heartbeat_vod_playback_position")&&(B=vr8(S),B!==null&&(a.playbackState||(a.playbackState={}),a.playbackState.playbackPosition={streamTimeMillis:B}));S.player.publish("heartbeatRequest",a);const z={timeout:3E4,onSuccess:y=>{if(!S.N.isActive()&&zi(S)){var Y=S.getVideoData(),G=Y.o0&&S.S==null;Y.o0=!!y.heartbeatAttestationConfig?.requiresAttestation||G;G=y.playabilityStatus;var K=JSON.stringify(G)||"{}";y.authenticationMismatch&&S.player.N2("authshear",
{});var T=-1;var q=y.playabilityStatus;q&&(g.AJ(S.player,"onHeartbeat",q),q.status==="OK"?T=y.stopHeartbeat?2:0:q.status==="UNPLAYABLE"?T=1:q.status==="LIVE_STREAM_OFFLINE"&&(T=0));S.sequenceNumber&&T===-1||S.W.reset();S.sequenceNumber++;y.heartbeatServerData&&(S.vn=y.heartbeatServerData);Y.Rs=y;(q=y.playerCueRangeSet)&&g.rn(Y,q);y.playerCueRanges&&y.playerCueRanges.length>0&&(Y.cueRanges=y.playerCueRanges);y.progressBarConfig?.progressBarStartPosition&&y.progressBarConfig?.progressBarEndPosition&&
(Y.progressBarStartPosition=y.progressBarConfig.progressBarStartPosition,Y.progressBarEndPosition=y.progressBarConfig.progressBarEndPosition);Y.compositeLiveIngestionOffsetToken=y.compositeLiveIngestionOffsetToken;y.compositeLiveStatusToken!==Y.compositeLiveStatusToken&&(Y.compositeLiveStatusToken=y.compositeLiveStatusToken);Y.heartbeatLoggingToken=y.heartbeatLoggingToken;Y.publish("dataupdated");jfQ(S,y,G,K,T)}},
onError:y=>{zi(S)&&q4(S,!0,`net-${y.status}`)},
onTimeout:()=>{zi(S)&&q4(S,!0,"timeout")}};
g.Gb(W,m.V()).then(y=>{y&&(z.Q3=`Bearer ${y}`);g.au(S.bY,"player/heartbeat",a,z)})},XrZ=function(S){return(S=S.player.getProgressState(S.getPlayerType()).ingestionTime)&&isFinite(S)?`${Math.floor(S*1E3)}`:null},vr8=function(S){return(S=S.player.getCurrentTime(S.getPlayerType()))&&isFinite(S)?`${Math.floor(S*1E3)}`:null},jfQ=function(S,W,m,a,J){J===-1?(m=`decode ${g.fh(a,3)}`,q4(S,!1,m)):J===2?(KS(S),S.A=!0):(S.Z=0,S.N.stop(),J===1?(S.A=!1,m&&m.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&S.player.ri(!0),
J=`pe.${m?.errorCode};ps.${m?.status}`,S.player.oY("heartbeat.stop",2,S.ZD(a),J),g.Om("heartbeatActionPlayerHalted",HhQ(m)),W?.videoTransitionEndpoint&&m&&(W=W.videoTransitionEndpoint,(a=g.H(W,g.om))&&Gi(S,a,m,{itct:W?.clickTrackingParams}))):(S.A=!0,a=0,S.j&&m&&(a=u$N(S,W,m),S.player.publish("livestatedata",m)),a?yr(S,a):yr(S)))},q4=function(S,W,m){if(!S.N.isActive()){S.N.stop();
S.Z++;var a=W?"heartbeat.net":"heartbeat.servererror";{const B=S.getVideoData();if(B.ph||W&&!g.jn(S.getVideoData())&&!Ti(S)&&B.isLivePlayback)var J=!1;else S.heartbeatParams?.retries?J=S.heartbeatParams.retries:J=B.YJ||5,J=S.Z>=J}J?(g.Om("heartbeatActionPlayerHalted",W?{enforcedPolicyToHaltOnNetworkFailure:!0}:HhQ()),(W=S.getVideoData())&&W.isLivePlayback?S.player.oY(a,1,"Video playback interrupted. Please try again.",m):S.player.oY(a,1,"Sorry, there was an error licensing this video.",m)):(yr(S,
S.W.getValue()),g.S8(S.W))}},HhQ=function(S){const W={enforcedPolicyToHaltOnNetworkFailure:!1};
S&&(W.serializedServerContext=S.additionalLoggingData);return W},VsZ=function(S,W){return(S=Number(S?.pollDelayMs))?S:(W=Number(W?.pollDelayMs))?W:0},Gi=function(S,W,m,a){const J=W&&W.videoId;
return J?(S.player.HA(J,{autonav:"1",...(a||{})},void 0,!0,!0,W,S.getVideoData().V()),S.Ir("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",m),!0):!1},lcN={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},pS=lcN;pS=lcN;
var pr$=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],MsZ={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.v=JR.prototype;g.v.M3=pS.FIRSTDAYOFWEEK;g.v.on=pS.FIRSTWEEKCUTOFFDAY;
g.v.clone=function(){const S=new JR(this.date);S.M3=this.M3;S.on=this.on;return S};
g.v.getFullYear=function(){return this.date.getFullYear()};
g.v.getYear=function(){return this.getFullYear()};
g.v.getMonth=function(){return this.date.getMonth()};
g.v.getDate=function(){return this.date.getDate()};
g.v.getTime=function(){return this.date.getTime()};
g.v.getDay=function(){return this.date.getDay()};
g.v.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.v.getUTCMonth=function(){return this.date.getUTCMonth()};
g.v.getUTCDate=function(){return this.date.getUTCDate()};
g.v.getUTCDay=function(){return this.date.getDay()};
g.v.getUTCHours=function(){return this.date.getUTCHours()};
g.v.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.v.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.v.set=function(S){this.date=new Date(S.getFullYear(),S.getMonth(),S.getDate())};
g.v.setFullYear=function(S){this.date.setFullYear(S)};
g.v.setYear=function(S){this.setFullYear(S)};
g.v.setMonth=function(S){this.date.setMonth(S)};
g.v.setDate=function(S){this.date.setDate(S)};
g.v.setTime=function(S){this.date.setTime(S)};
g.v.setUTCFullYear=function(S){this.date.setUTCFullYear(S)};
g.v.setUTCMonth=function(S){this.date.setUTCMonth(S)};
g.v.setUTCDate=function(S){this.date.setUTCDate(S)};
g.v.add=function(S){if(S.years||S.months){var W=this.getMonth()+S.months+S.years*12,m=this.getYear()+Math.floor(W/12);W%=12;W<0&&(W+=12);a:{switch(W){case 1:var a=m%4!=0||m%100==0&&m%400!=0?28:29;break a;case 5:case 8:case 10:case 3:a=30;break a}a=31}a=Math.min(a,this.getDate());this.setDate(1);this.setFullYear(m);this.setMonth(W);this.setDate(a)}S.days&&(m=this.getYear(),W=m>=0&&m<=99?-1900:0,S=new Date((new Date(m,this.getMonth(),this.getDate(),12)).getTime()+S.days*864E5),this.setDate(1),this.setFullYear(S.getFullYear()+
W),this.setMonth(S.getMonth()),this.setDate(S.getDate()),ad(this,S.getDate()))};
g.v.equals=function(S){return!(!S||this.getYear()!=S.getYear()||this.getMonth()!=S.getMonth()||this.getDate()!=S.getDate())};
g.v.toString=function(){var S=this.getFullYear();const W=S<0?"-":S>=1E4?"+":"";return[W+m3(Math.abs(S),W?6:4),m3(this.getMonth()+1,2),m3(this.getDate(),2)].join("")+""};
g.v.valueOf=function(){return this.date.valueOf()};var mUQ=new g.D("addUpcomingEventReminderEndpoint");var acZ=new g.D("removeUpcomingEventReminderEndpoint");var UUg=class extends g.c{constructor(S){super({G:"div",D:[{G:"button",Wn:["ytp-offline-slate-button","ytp-button"],D:[{G:"div",O:"ytp-offline-slate-button-icon",Bn:"{{icon}}"},{G:"div",O:"ytp-offline-slate-button-text",Bn:"{{text}}"}]}]});this.X=S;this.C=this.toggleButtonRenderer=null;(this.N=this.I2("ytp-offline-slate-button"))&&this.L(this.N,"click",this.B);this.hide()}B(){if(this.toggleButtonRenderer){const S=this.toggleButtonRenderer;S.isToggled?Bpn(this,S.toggledServiceEndpoint):Bpn(this,S.defaultServiceEndpoint);
S.isToggled=!S.isToggled;BK(this)}}};var Fgg=class extends g.c{constructor(S){super({G:"div",O:"ytp-offline-slate",D:[{G:"div",O:"ytp-offline-slate-background"},{G:"div",O:"ytp-offline-slate-bar",D:[{G:"span",O:"ytp-offline-slate-icon",D:[{G:"svg",J:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},D:[{G:"path",J:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{G:"circle",J:{cx:"12",cy:"12",r:"3"}}]}]},{G:"span",O:"ytp-offline-slate-messages",D:[{G:"div",O:"ytp-offline-slate-main-text",J:{"aria-label":"{{label}}"},Bn:"{{mainText}}"},{G:"div",O:"ytp-offline-slate-subtitle-text",Bn:"{{subtitleText}}"}]},{G:"span",O:"ytp-offline-slate-buttons"}]},{G:"button",Wn:["ytp-offline-slate-close-button","ytp-button"],D:[g.nG()]},{G:"button",Wn:["ytp-offline-slate-open-button","ytp-button"],D:[g.Vf()]}]});this.api=S;this.C=this.N=null;this.background=this.I2("ytp-offline-slate-background");
this.B=this.I2("ytp-offline-slate-bar");this.A=new g.rr(()=>{g.my(this.B,"ytp-offline-slate-bar-fade")},15E3);
this.W=!1;this.j=new g.rr(()=>{g.my(this.element,"ytp-offline-slate-collapsed")},15E3);
g.R(this,this.j);g.R(this,this.A);this.countdownTimer=new g.rr(this.V,1E3,this);this.L(S,"presentingplayerstatechange",this.Z);this.L(S,"livestatedata",this.zN);this.L(this.I2("ytp-offline-slate-close-button"),"click",()=>{g.my(this.element,"ytp-offline-slate-collapsed")});
this.L(this.I2("ytp-offline-slate-open-button"),"click",()=>{g.J$(this.element,"ytp-offline-slate-collapsed")});
this.hide();S=this.getVideoData();S.getPlayerResponse()&&(S=S.getPlayerResponse().playabilityStatus)&&this.zN(S);S=this.api.getPresentingPlayerType()===8&&!this.getVideoData().S8;const W=this.api.getPresentingPlayerType()===8;g.I(this.element,"ytp-offline-slate-premiere-trailer",S);g.I(this.element,"ytp-offline-slate-hide-background",W)}getPlayerType(){if(this.api.getPresentingPlayerType()===8)return 1}getVideoData(){return this.api.getVideoData(this.getPlayerType())}zN(S){var W=S?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate;
if(W){this.N=S;W=W.liveStreamOfflineSlateRenderer;W.canShowCountdown?this.V():E5(this,W);var m=S?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate?.liveStreamOfflineSlateRenderer?.thumbnail;if(m){let a=0,J=null;m=m.thumbnails;for(let B=0;B<m.length;B++)m[B].width>a&&(a=m[B].width||0,J=m[B].url);J&&(this.background.style.backgroundImage=`url(${J})`)}else this.background.style.backgroundImage="";W.actionButtons?(this.C||(this.C=new UUg(this.api),this.C.Xn(this.I2("ytp-offline-slate-buttons")),
g.R(this,this.C)),Wgp(this.C,W.actionButtons&&W.actionButtons[0])):this.C&&Wgp(this.C,null);this.N=S}else this.N=null;this.Z()}Z(S){if(this.api.getPresentingPlayerType()===8)var W=!0;else{var m=this.api.getPlayerStateObject(),a=this.getVideoData();W=a.isLivePlayback&&(m.isBuffering()||m.C(2)||m.C(64));var J=a.autonavState===2&&m.C(2);m=m.isPlaying()&&!g.HT(a)&&!this.api.isAtLiveHead(void 0,!0);W=W&&!m&&!J}W&&this.N?this.jg?S?.b$(2)&&!this.getVideoData().S8&&(g.J$(this.element,"ytp-offline-slate-collapsed"),
this.j.stop(),g.J$(this.B,"ytp-offline-slate-bar-fade"),this.A.start()):(this.show(),this.j.start(),this.api.publish("offlineslatestatechange"),this.W&&this.api.AA()):this.jg&&(this.hide(),this.api.publish("offlineslatestatechange"))}V(){const S=this.N?.liveStreamability?.liveStreamabilityRenderer?.offlineSlate?.liveStreamOfflineSlateRenderer;if(S){var W=Math.floor(g.S$()/1E3),m=S.canShowCountdown&&Number(S.scheduledStartTime);!m||m<=W?(E5(this,S),this.countdownTimer.stop()):(E5(this,S,g.bU(m-W)),
this.countdownTimer.Db())}}j9(){this.countdownTimer.dispose();this.countdownTimer=null;super.j9()}};var sfp=class{constructor(S,W){var m=(0,g.t)();this.trigger=S;this.C=W;this.B=m}N(S){return this.trigger&&S.trigger?this.trigger===S.trigger&&this.C===S.C:!1}isExpired(){return(0,g.t)()-this.B>6E4}toString(){return`${"heartbeat"}:${this.trigger}:${this.C}`}};var OhN=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.FL("heartbeat",class extends g.gL{constructor(S){super(S);this.V=!1;this.Z=0;this.A=!1;this.N=new g.rr(()=>{Tpg(this)},0);
this.C=this.heartbeatParams=null;this.j=!1;this.W=new g.w6(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.bY=new g.gR(void 0);this.attestationResponse=Promise.resolve(void 0);this.S=Promise.resolve(void 0);this.utcOffsetMinutes=-(new JR).getTimezoneOffset();this.B=new g.JC(this);g.R(this,this.N);g.R(this,this.B);G6p(this);nrZ(this);this.B.L(S,"heartbeatparams",this.O8);this.B.L(S,"presentingplayerstatechange",this.iY);this.B.L(S,"videoplayerreset",this.U);this.B.L(S,g.yC("heartbeat"),
this.onCueRangeEnter);this.j&&this.C&&u$N(this,void 0,this.C);const W=new g.jX(YU(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),m=new g.jX(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});S.iQ([W,m]);grZ(this)}j9(){KS(this);this.player.Zz("heartbeat");super.j9()}onCueRangeEnter(){this.V=!0;yr(this,YU(this))}O8(S){this.heartbeatParams=S;yr(this,YU(this))}iY(S){if(this.player.getPresentingPlayerType()!==8&&this.C?.status!=="UNPLAYABLE")if(S.state.C(2)||
S.state.C(64))KS(this),this.j&&(this.V=!0,yr(this,YU(this,!0)));else{const W=this.player.K().experiments.EV().C.uY(g.L7G);(S.state.C(1)||S.state.C(8)||W&&S.state.C(4))&&yr(this,YU(this))}}U(){this.player.getPresentingPlayerType()!==3&&yr(this,YU(this))}getPlayerType(){if(this.player.getPresentingPlayerType()===8)return 1}getVideoData(){return this.player.getVideoData(this.getPlayerType())}Pc(S){switch(S){case 4:case 3:return!1}return!0}Ir(S,W,m){S={trigger:S,reason:W};m&&(S.serializedServerContext=
m.additionalLoggingData);g.Om("heartbeatActionPlayerTransitioned",S)}ZD(S){var W="LICENSE";const m=z4Q(S);if(m)return m.reason||g.dW[W]||"";if(S=S.match(OhN))if(S=Number(S[1]))W=(W=MsZ[S.toString()])?W:"LICENSE";return g.dW[W]||""}oH(){return!!this.offlineSlate&&this.offlineSlate.jg}});})(_yt_player);
